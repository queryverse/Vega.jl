<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Multiple Data Source · Vega.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Vega.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../gettingstarted/installation/">Installation</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../userguide/vega/">Using Vega</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples_vega_line_area_charts/">Line &amp; Area Charts</a></li><li><a class="tocitem" href="../examples_vega_circular_charts/">Circular Charts</a></li><li><a class="tocitem" href="../examples_vega_scatter_plots/">Scatter Plots</a></li><li><a class="tocitem" href="../examples_vega_tree_diagrams/">Tree Diagrams</a></li><li><a class="tocitem" href="../examples_vega_network_diagrams/">Network Diagrams</a></li><li><a class="tocitem" href="../examples_vega_single_data_source/">Single Data Source</a></li><li class="is-active"><a class="tocitem" href>Multiple Data Source</a><ul class="internal"><li><a class="tocitem" href="#Dorling-Cartogram-1"><span>Dorling Cartogram</span></a></li></ul></li></ul></li><li><span class="tocitem">Reference Manual</span><ul><li><a class="tocitem" href="../../referencemanual/global/">Global settings</a></li><li><a class="tocitem" href="../../referencemanual/output/">Outputs</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Multiple Data Source</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Multiple Data Source</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/queryverse/Vega.jl/blob/master/docs/src/examples/examples_vega_multi_data_source.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Using-Vega-with-Multiple-Data-Sources-1"><a class="docs-heading-anchor" href="#Using-Vega-with-Multiple-Data-Sources-1">Using Vega with Multiple Data Sources</a><a class="docs-heading-anchor-permalink" href="#Using-Vega-with-Multiple-Data-Sources-1" title="Permalink"></a></h1><h2 id="Dorling-Cartogram-1"><a class="docs-heading-anchor" href="#Dorling-Cartogram-1">Dorling Cartogram</a><a class="docs-heading-anchor-permalink" href="#Dorling-Cartogram-1" title="Permalink"></a></h2><p>From <a href="https://vega.github.io/vega/examples/dorling-cartogram/">Vega Dorling Cartogram Example</a></p><pre><code class="language-julia">using Vega, VegaDatasets, URIParser

uri = URI(&quot;https://raw.githubusercontent.com/vega/vega-datasets/master/data/us-10m.json&quot;)

vg&quot;&quot;&quot;{
  &quot;width&quot;: 900,
  &quot;height&quot;: 520,
  &quot;autosize&quot;: &quot;none&quot;,

  &quot;config&quot;: {
    &quot;legend&quot;: {
      &quot;gradientDirection&quot;: &quot;horizontal&quot;,
      &quot;gradientLength&quot;: 120,
      &quot;gradientThickness&quot;: 10
    }
  },

  &quot;data&quot;: [
    {
      &quot;name&quot;: &quot;states&quot;,
      &quot;format&quot;: {&quot;type&quot;: &quot;topojson&quot;, &quot;feature&quot;: &quot;states&quot;}
    },
    {
      &quot;name&quot;: &quot;obesity&quot;,
      &quot;transform&quot;: [
        {
          &quot;type&quot;: &quot;lookup&quot;,
          &quot;from&quot;: &quot;states&quot;, &quot;key&quot;: &quot;id&quot;,
          &quot;fields&quot;: [&quot;id&quot;], &quot;as&quot;: [&quot;geo&quot;]
        },
        {
          &quot;type&quot;: &quot;filter&quot;,
          &quot;expr&quot;: &quot;datum.geo&quot;
        },
        {
          &quot;type&quot;: &quot;formula&quot;, &quot;as&quot;: &quot;centroid&quot;,
          &quot;expr&quot;: &quot;geoCentroid(&#39;projection&#39;, datum.geo)&quot;
        }
      ]
    }
  ],

  &quot;projections&quot;: [
    {
      &quot;name&quot;: &quot;projection&quot;,
      &quot;type&quot;: &quot;albersUsa&quot;,
      &quot;scale&quot;: 1100,
      &quot;translate&quot;: [{&quot;signal&quot;: &quot;width / 2&quot;}, {&quot;signal&quot;: &quot;height / 2&quot;}]
    }
  ],

  &quot;scales&quot;: [
    {
      &quot;name&quot;: &quot;size&quot;,
      &quot;domain&quot;: {&quot;data&quot;: &quot;obesity&quot;, &quot;field&quot;: &quot;rate&quot;},
      &quot;zero&quot;: false,
      &quot;range&quot;: [1000, 5000]
    },
    {
      &quot;name&quot;: &quot;color&quot;,
      &quot;type&quot;: &quot;linear&quot;,
      &quot;nice&quot;: true,
      &quot;domain&quot;: {&quot;data&quot;: &quot;obesity&quot;, &quot;field&quot;: &quot;rate&quot;},
      &quot;range&quot;: &quot;ramp&quot;
    }
  ],

  &quot;legends&quot;: [
    {
      &quot;title&quot;: &quot;% of Obese Adults&quot;,
      &quot;orient&quot;: &quot;bottom-right&quot;,
      &quot;type&quot;: &quot;symbol&quot;,
      &quot;size&quot;: &quot;size&quot;,
      &quot;fill&quot;: &quot;color&quot;,
      &quot;format&quot;: &quot;.1%&quot;,
      &quot;clipHeight&quot;: 16
    }
  ],

  &quot;marks&quot;: [
    {
      &quot;name&quot;: &quot;circles&quot;,
      &quot;type&quot;: &quot;symbol&quot;,
      &quot;from&quot;: {&quot;data&quot;: &quot;obesity&quot;},
      &quot;encode&quot;: {
        &quot;enter&quot;: {
          &quot;size&quot;: {&quot;scale&quot;: &quot;size&quot;, &quot;field&quot;: &quot;rate&quot;},
          &quot;fill&quot;: {&quot;scale&quot;: &quot;color&quot;, &quot;field&quot;: &quot;rate&quot;},
          &quot;stroke&quot;: {&quot;value&quot;: &quot;white&quot;},
          &quot;strokeWidth&quot;: {&quot;value&quot;: 1.5},
          &quot;x&quot;: {&quot;field&quot;: &quot;centroid[0]&quot;},
          &quot;y&quot;: {&quot;field&quot;: &quot;centroid[1]&quot;},
          &quot;tooltip&quot;: {&quot;signal&quot;: &quot;&#39;Obesity Rate: &#39; + format(datum.rate, &#39;.1%&#39;)&quot;}
        }
      },
      &quot;transform&quot;: [
        {
          &quot;type&quot;: &quot;force&quot;,
          &quot;static&quot;: true,
          &quot;forces&quot;: [
            {&quot;force&quot;: &quot;collide&quot;, &quot;radius&quot;: {&quot;expr&quot;: &quot;1 + sqrt(datum.size) / 2&quot;}},
            {&quot;force&quot;: &quot;x&quot;, &quot;x&quot;: &quot;datum.centroid[0]&quot;},
            {&quot;force&quot;: &quot;y&quot;, &quot;y&quot;: &quot;datum.centroid[1]&quot;}
          ]
        }
      ]
    },
    {
      &quot;type&quot;: &quot;text&quot;,
      &quot;interactive&quot;: false,
      &quot;from&quot;: {&quot;data&quot;: &quot;circles&quot;},
      &quot;encode&quot;: {
        &quot;enter&quot;: {
          &quot;align&quot;: {&quot;value&quot;: &quot;center&quot;},
          &quot;baseline&quot;: {&quot;value&quot;: &quot;middle&quot;},
          &quot;fontSize&quot;: {&quot;value&quot;: 13},
          &quot;fontWeight&quot;: {&quot;value&quot;: &quot;bold&quot;},
          &quot;text&quot;: {&quot;field&quot;: &quot;datum.state&quot;}
        },
        &quot;update&quot;: {
          &quot;x&quot;: {&quot;field&quot;: &quot;x&quot;},
          &quot;y&quot;: {&quot;field&quot;: &quot;y&quot;}
        }
      }
    }
  ]
}&quot;&quot;&quot;(uri, &quot;states&quot;)(dataset(&quot;obesity&quot;), &quot;obesity&quot;)</code></pre><div id='vg0834ae28f68748ccac67c1180ee73cfe' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6.2.1?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4.0.2?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5.9.0?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vg0834ae28f68748ccac67c1180ee73cfe',{"height":520,"marks":[{"name":"circles","encode":{"enter":{"stroke":{"value":"white"},"tooltip":{"signal":"'Obesity Rate: ' + format(datum.rate, '.1%')"},"x":{"field":"centroid[0]"},"strokeWidth":{"value":1.5},"size":{"field":"rate","scale":"size"},"fill":{"field":"rate","scale":"color"},"y":{"field":"centroid[1]"}}},"from":{"data":"obesity"},"type":"symbol","transform":[{"forces":[{"radius":{"expr":"1 + sqrt(datum.size) / 2"},"force":"collide"},{"x":"datum.centroid[0]","force":"x"},{"force":"y","y":"datum.centroid[1]"}],"static":true,"type":"force"}]},{"encode":{"update":{"x":{"field":"x"},"y":{"field":"y"}},"enter":{"fontWeight":{"value":"bold"},"fontSize":{"value":13},"text":{"field":"datum.state"},"baseline":{"value":"middle"},"align":{"value":"center"}}},"interactive":false,"from":{"data":"circles"},"type":"text"}],"config":{"legend":{"gradientDirection":"horizontal","gradientLength":120,"gradientThickness":10}},"data":[{"name":"states","format":{"feature":"states","type":"topojson"},"url":"https://raw.githubusercontent.com/vega/vega-datasets/master/data/us-10m.json"},{"name":"obesity","values":[{"id":1,"rate":0.187,"state":"AL"},{"id":2,"rate":0.198,"state":"AK"},{"id":4,"rate":0.133,"state":"AZ"},{"id":5,"rate":0.175,"state":"AR"},{"id":6,"rate":0.151,"state":"CA"},{"id":8,"rate":0.1,"state":"CO"},{"id":9,"rate":0.125,"state":"CT"},{"id":10,"rate":0.171,"state":"DE"},{"id":12,"rate":0.172,"state":"FL"},{"id":13,"rate":0.133,"state":"GA"},{"id":15,"rate":0.108,"state":"HI"},{"id":16,"rate":0.142,"state":"ID"},{"id":17,"rate":0.167,"state":"IL"},{"id":18,"rate":0.201,"state":"IN"},{"id":19,"rate":0.175,"state":"IA"},{"id":20,"rate":0.159,"state":"KS"},{"id":21,"rate":0.169,"state":"KY"},{"id":22,"rate":0.177,"state":"LA"},{"id":23,"rate":0.141,"state":"ME"},{"id":24,"rate":0.163,"state":"MD"},{"id":25,"rate":0.117,"state":"MA"},{"id":26,"rate":0.182,"state":"MI"},{"id":27,"rate":0.153,"state":"MN"},{"id":28,"rate":0.195,"state":"MS"},{"id":29,"rate":0.189,"state":"MO"},{"id":30,"rate":0.134,"state":"MT"},{"id":31,"rate":0.163,"state":"NE"},{"id":32,"rate":0.133,"state":"NV"},{"id":33,"rate":0.151,"state":"NH"},{"id":34,"rate":0.145,"state":"NJ"},{"id":35,"rate":0.13,"state":"NM"},{"id":36,"rate":0.139,"state":"NY"},{"id":37,"rate":0.169,"state":"NC"},{"id":38,"rate":0.164,"state":"ND"},{"id":39,"rate":0.175,"state":"OH"},{"id":40,"rate":0.135,"state":"OK"},{"id":41,"rate":0.152,"state":"OR"},{"id":42,"rate":0.169,"state":"PA"},{"id":44,"rate":0.132,"state":"RI"},{"id":45,"rate":0.167,"state":"SC"},{"id":46,"rate":0.139,"state":"SD"},{"id":47,"rate":0.184,"state":"TN"},{"id":48,"rate":0.159,"state":"TX"},{"id":49,"rate":0.14,"state":"UT"},{"id":50,"rate":0.146,"state":"VT"},{"id":51,"rate":0.157,"state":"VA"},{"id":53,"rate":0.139,"state":"WA"},{"id":54,"rate":0.183,"state":"WV"},{"id":55,"rate":0.16,"state":"WI"},{"id":56,"rate":0.143,"state":"WY"}],"transform":[{"key":"id","fields":["id"],"as":["geo"],"from":"states","type":"lookup"},{"expr":"datum.geo","type":"filter"},{"as":"centroid","expr":"geoCentroid('projection', datum.geo)","type":"formula"}]}],"projections":[{"translate":[{"signal":"width / 2"},{"signal":"height / 2"}],"name":"projection","type":"albersUsa","scale":1100}],"scales":[{"name":"size","zero":false,"range":[1000,5000],"domain":{"data":"obesity","field":"rate"}},{"name":"color","nice":true,"range":"ramp","domain":{"data":"obesity","field":"rate"},"type":"linear"}],"width":900,"autosize":"none","legends":[{"format":".1%","clipHeight":16,"title":"% of Obese Adults","size":"size","fill":"color","type":"symbol","orient":"bottom-right"}]},{mode:'vega'}).catch(console.warn);})</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples_vega_single_data_source/">« Single Data Source</a><a class="docs-footer-nextpage" href="../../referencemanual/global/">Global settings »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 24 March 2020 00:00">Tuesday 24 March 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
